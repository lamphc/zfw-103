{"version":3,"sources":["../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","utils/api/user.js","utils/api/house.js","components/HouseItem/index.js","components/HouseItem/index.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/HousePackage/index.js","components/HousePackage/index.module.css","components/HouseDetail/index.module.css","components/HouseDetail/index.js"],"names":["require","Object","defineProperty","exports","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","NavBar","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","_a","props","prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent","restProps","createElement","role","onClick","Component","defaultProps","module","ownKeys","object","enumerableOnly","keys","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread2","target","source","forEach","getOwnPropertyDescriptors","defineProperties","_defineProperty","configurable","writable","login","data","request","post","getUserData","get","logout","checkFav","id","addFav","delFav","delete","getPubHouse","pubHouse","getFilters","params","getListByFilter","cityId","filters","start","end","getDetail","uploadHouseImg","formData","HouseItem","src","title","desc","tags","price","style","styles","house","imgWrap","img","alt","content","map","tag","index","tagClass","join","priceNum","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","HOUSE_PACKAGE","name","HousePackage","state","selectedNames","toggleSelect","newSelectedNames","item","onSelect","setState","select","list","v","includes","isSelected","active","root","renderItems","recommendHouses","BASE_URL","BMap","window","labelStyle","position","zIndex","backgroundColor","color","height","padding","lineHeight","borderRadius","boxShadow","whiteSpace","fontSize","userSelect","alert","HouseDetail","isLoading","houseInfo","houseImg","roomType","size","oriented","floor","community","coord","latitude","longitude","supporting","houseCode","description","isFavorite","imgHeight","handleFavorite","a","replace","history","isAuth","text","onPress","pathname","backUrl","location","match","status","getHouseDetail","console","log","renderMap","href","display","width","background","verticalAlign","onLoad","dispatchEvent","Event","Map","point","Point","centerAndZoom","label","Label","offset","Size","setStyle","setContent","mapArrow","addOverlay","type","goBack","slides","autoplay","infinite","autoplayInterval","renderSwipers","info","infoTitle","Item","renderTags","infoPrice","infoPriceItem","month","infoBasic","align","mapTitle","mapContainer","about","houseTitle","titleEmpty","set","contact","user","useInfo","userAuth","userMsg","descText","recommend","items","fixedBottom","favoriteImg","favorite","telephone"],"mappings":"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","file":"static/js/9.dd509dbb.chunk.js","sourcesContent":["'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import request from '../request'\n\n\n/**\n * 用户 =》后台接口\n */\n\nexport function login (data) {\n  return request.post('/user/login', data)\n}\n\n/**\n * 获取当前登录人信息\n */\nexport function getUserData () {\n  return request.get('/user')\n}\n\n\n/**\n * 退出登录\n */\nexport function logout () {\n  return request.post('/user/logout')\n}\n\n/**\n * 查询房源是否收藏过\n * @param {*} id 房源ID\n */\nexport function checkFav (id) {\n  return request.get(`/user/favorites/${id}`)\n}\n\n/**\n * 添加收藏\n * @param {*} id 房源ID\n */\nexport function addFav (id) {\n  return request.post(`/user/favorites/${id}`)\n}\n\n/**\n * 删除收藏\n * @param {*} id 房源ID\n */\nexport function delFav (id) {\n  return request.delete(`/user/favorites/${id}`)\n}\n\n/**\n * 获取已发布房源列表数据\n */\nexport function getPubHouse () {\n  return request.get('/user/houses')\n}\n\n/**\n * 发布房源\n * @param {*} data 房源数据\n */\nexport function pubHouse (data) {\n  return request.post('/user/houses', data)\n}","import request from '../request'\n\n/**\n * 房屋=》后台接口\n */\n/**\n * 获取列表找房筛选条件数据\n * @param {*} id 当前定位城市的ID\n */\nexport function getFilters (id) {\n  return request.get('/houses/condition', {\n    params: { id }\n  })\n}\n\n/**\n * \n * @param {*} cityId 当前定位城市ID/小区ID\n * @param {*} filters 查询条件\n * @param {*} start 数据开始\n * @param {*} end  数据结束\n */\nexport function getListByFilter (cityId, filters, start = 1, end = 20) {\n  return request.get('/houses', {\n    params: {\n      cityId,\n      ...filters,\n      start,\n      end\n    }\n  })\n}\n\n/**\n * 房源详情\n * @param {*} id 房源ID\n */\nexport function getDetail (id) {\n  return request.get(`/houses/${id}`)\n}\n\n/**\n * 上传房源图片\n * @param {*} formData formData格式的图片数据\n */\nexport function uploadHouseImg (formData) {\n  return request.post('/houses/image', formData)\n}","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n// props\r\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\r\n// 2. defautProps -> 为组件设置默认属性  num\r\n// 3. prop-types -> 为组件的属性提供默认类型  age\r\n\r\nimport styles from './index.module.css'\r\n\r\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\r\n  return (\r\n    <div className={styles.house} onClick={onClick} style={style}>\r\n      <div className={styles.imgWrap}>\r\n        <img className={styles.img} src={src} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{title}</h3>\r\n        <div className={styles.desc}>{desc}</div>\r\n        <div>\r\n          {/* ['近地铁', '随时看房'] */}\r\n          {tags.map((tag, index) => {\r\n            const tagClass = 'tag' + (index + 1)\r\n            return (\r\n              <span\r\n                className={[styles.tag, styles[tagClass]].join(' ')}\r\n                key={tag}\r\n              >\r\n                {tag}\r\n              </span>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className={styles.price}>\r\n          <span className={styles.priceNum}>{price}</span> 元/月\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nHouseItem.propTypes = {\r\n  // src: PropTypes.string,\r\n  // title: PropTypes.string,\r\n  // desc: PropTypes.string,\r\n  // tags: PropTypes.array.isRequired,\r\n  // price: PropTypes.number,\r\n  // onClick: PropTypes.func\r\n}\r\n\r\nexport default HouseItem\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__29lYP\",\"imgWrap\":\"HouseItem_imgWrap__3ZPoa\",\"img\":\"HouseItem_img__1BaJK\",\"content\":\"HouseItem_content__1gVhj\",\"title\":\"HouseItem_title__2dXar\",\"desc\":\"HouseItem_desc__5-mp4\",\"price\":\"HouseItem_price__1_r8v\",\"priceNum\":\"HouseItem_priceNum__RGpsE\",\"tag\":\"HouseItem_tag__3MxYv\",\"tag1\":\"HouseItem_tag1__3VDnD\",\"tag2\":\"HouseItem_tag2__2IcZc\",\"tag3\":\"HouseItem_tag3__2L6o6\"};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { Component } from 'react'\r\n\r\nimport styles from './index.module.css'\r\n\r\n// 所有房屋配套数据和图标\r\nconst HOUSE_PACKAGE = [\r\n  {\r\n    id: 1,\r\n    name: '衣柜',\r\n    icon: 'icon-wardrobe'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '洗衣机',\r\n    icon: 'icon-wash'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '空调',\r\n    icon: 'icon-air'\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '天然气',\r\n    icon: 'icon-gas'\r\n  },\r\n  {\r\n    id: 5,\r\n    name: '冰箱',\r\n    icon: 'icon-ref'\r\n  },\r\n  {\r\n    id: 6,\r\n    name: '暖气',\r\n    icon: 'icon-Heat'\r\n  },\r\n  {\r\n    id: 7,\r\n    name: '电视',\r\n    icon: 'icon-vid'\r\n  },\r\n  {\r\n    id: 8,\r\n    name: '热水器',\r\n    icon: 'icon-heater'\r\n  },\r\n  {\r\n    id: 9,\r\n    name: '宽带',\r\n    icon: 'icon-broadband'\r\n  },\r\n  {\r\n    id: 10,\r\n    name: '沙发',\r\n    icon: 'icon-sofa'\r\n  }\r\n]\r\n\r\n/* \r\n  该组件的两种功能：\r\n  1 根据传入的 list 展示房屋配置列表（房源详情页面）\r\n    <HousePackage list={['衣柜', '洗衣机']} />\r\n  2 从所有配置列表中选择房屋配置（发布房源页面）\r\n    <HousePackage select onSelect={selectedItems => {...}} />\r\n*/\r\nexport default class HousePackage extends Component {\r\n  state = {\r\n    // 选中名称\r\n    selectedNames: []\r\n  }\r\n\r\n  // 根据id切换选中状态\r\n  toggleSelect = name => {\r\n    const { selectedNames } = this.state\r\n    let newSelectedNames\r\n\r\n    // 判断该项是否选中\r\n    if (selectedNames.indexOf(name) > -1) {\r\n      // 选中：从数组中删除选中项，也就是保留未选中项\r\n      newSelectedNames = selectedNames.filter(item => item !== name)\r\n    } else {\r\n      // 未选中：添加到数组中\r\n      newSelectedNames = [...selectedNames, name]\r\n    }\r\n\r\n    // 传递给父组件\r\n    this.props.onSelect(newSelectedNames)\r\n\r\n    this.setState({\r\n      selectedNames: newSelectedNames\r\n    })\r\n  }\r\n\r\n  // 渲染列表项\r\n  renderItems() {\r\n    const { selectedNames } = this.state\r\n    // select 的值为 true 表示 选择房屋配置；false 表示仅展示房屋列表\r\n    // list 表示要展示的列表项\r\n    const { select, list } = this.props\r\n\r\n    let data\r\n    // 如果传了 select 表示：选择 房屋配置\r\n    // 如果没传 select 表示：展示 房屋配置 列表\r\n    if (select) {\r\n      data = HOUSE_PACKAGE\r\n    } else {\r\n      // 展示房屋配置列表\r\n      // 从所有的列表项中过滤出要展示的（list）列表项\r\n      data = HOUSE_PACKAGE.filter(v => list.includes(v.name))\r\n    }\r\n\r\n    return data.map(item => {\r\n      // 判断该项是否选中\r\n      const isSelected = selectedNames.indexOf(item.name) > -1\r\n\r\n      return (\r\n        <li\r\n          key={item.id}\r\n          className={[styles.item, isSelected ? styles.active : ''].join(' ')}\r\n          onClick={select && (() => this.toggleSelect(item.name))}\r\n        >\r\n          <p>\r\n            <i className={`iconfont ${item.icon} ${styles.icon}`} />\r\n          </p>\r\n          {item.name}\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return <ul className={styles.root}>{this.renderItems()}</ul>\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HousePackage_root__1MUw0\",\"item\":\"HousePackage_item__2q4AQ\",\"active\":\"HousePackage_active__dDdti\",\"icon\":\"HousePackage_icon__2hT31\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HouseDetail_root__a7xDk\",\"slides\":\"HouseDetail_slides__2ahKu\",\"navHeader\":\"HouseDetail_navHeader__7hWmh\",\"info\":\"HouseDetail_info__39Yew\",\"infoTitle\":\"HouseDetail_infoTitle__3y-zd\",\"tags\":\"HouseDetail_tags__2_Dc3\",\"tag\":\"HouseDetail_tag__2dlyo\",\"tag1\":\"HouseDetail_tag1__558Yt\",\"tag2\":\"HouseDetail_tag2__eV4uu\",\"tag3\":\"HouseDetail_tag3__1fW1y\",\"infoPrice\":\"HouseDetail_infoPrice__25C4Z\",\"infoPriceItem\":\"HouseDetail_infoPriceItem__12TPc\",\"month\":\"HouseDetail_month__1T_vS\",\"infoBasic\":\"HouseDetail_infoBasic__1oq18\",\"title\":\"HouseDetail_title__1leex\",\"map\":\"HouseDetail_map__qJtbR\",\"mapTitle\":\"HouseDetail_mapTitle__3Wxkw\",\"mapContainer\":\"HouseDetail_mapContainer__39GaD\",\"mapArrow\":\"HouseDetail_mapArrow__l68GH\",\"houseTitle\":\"HouseDetail_houseTitle__3y23i\",\"about\":\"HouseDetail_about__6KkzM\",\"set\":\"HouseDetail_set__jQm1x\",\"titleEmpty\":\"HouseDetail_titleEmpty__2GEiv\",\"contact\":\"HouseDetail_contact__2tkwC\",\"user\":\"HouseDetail_user__25nBd\",\"useInfo\":\"HouseDetail_useInfo__Tfvrs\",\"userAuth\":\"HouseDetail_userAuth__2KnxD\",\"userMsg\":\"HouseDetail_userMsg__1I8Lr\",\"descText\":\"HouseDetail_descText__3AVk-\",\"recommend\":\"HouseDetail_recommend__2ofnO\",\"items\":\"HouseDetail_items__1o4-U\",\"fixedBottom\":\"HouseDetail_fixedBottom__2JBAN\",\"favorite\":\"HouseDetail_favorite__13-f2\",\"favoriteImg\":\"HouseDetail_favoriteImg__1xELB\",\"telephone\":\"HouseDetail_telephone__2NlLS\"};","import React, { Component } from 'react'\r\nimport { Carousel, Flex, Modal, Toast, NavBar, Icon } from 'antd-mobile'\r\nimport HouseItem from '../HouseItem'\r\nimport styles from './index.module.css'\r\nimport HousePackage from '../HousePackage'\r\nimport { BASE_URL } from '../../utils/request'\r\nimport { getDetail } from '../../utils/api/house'\r\nimport { isAuth } from '../../utils'\r\nimport { checkFav, delFav, addFav } from '../../utils/api/user'\r\n\r\n// 猜你喜欢\r\nconst recommendHouses = [\r\n  {\r\n    id: 1,\r\n    src: BASE_URL + '/img/message/1.png',\r\n    desc: '72.32㎡/南 北/低楼层',\r\n    title: '安贞西里 3室1厅',\r\n    price: 4500,\r\n    tags: ['随时看房']\r\n  },\r\n  {\r\n    id: 2,\r\n    src: BASE_URL + '/img/message/2.png',\r\n    desc: '83㎡/南/高楼层',\r\n    title: '天居园 2室1厅',\r\n    price: 7200,\r\n    tags: ['近地铁']\r\n  },\r\n  {\r\n    id: 3,\r\n    src: BASE_URL + '/img/message/3.png',\r\n    desc: '52㎡/西南/低楼层',\r\n    title: '角门甲4号院 1室1厅',\r\n    price: 4300,\r\n    tags: ['集中供暖']\r\n  }\r\n]\r\n\r\n// 百度地图\r\nconst BMap = window.BMap\r\n\r\nconst labelStyle = {\r\n  position: 'absolute',\r\n  zIndex: -7982820,\r\n  backgroundColor: 'rgb(238, 93, 91)',\r\n  color: 'rgb(255, 255, 255)',\r\n  height: 25,\r\n  padding: '5px 10px',\r\n  lineHeight: '14px',\r\n  borderRadius: 3,\r\n  boxShadow: 'rgb(204, 204, 204) 2px 2px 2px',\r\n  whiteSpace: 'nowrap',\r\n  fontSize: 12,\r\n  userSelect: 'none'\r\n}\r\n\r\nconst alert = Modal.alert\r\n\r\nexport default class HouseDetail extends Component {\r\n  state = {\r\n    // 数据加载中状态\r\n    isLoading: false,\r\n\r\n    // 房屋详情\r\n    houseInfo: {\r\n      // 房屋图片\r\n      houseImg: [],\r\n      // 标题\r\n      title: '',\r\n      // 标签\r\n      tags: [],\r\n      // 租金\r\n      price: 0,\r\n      // 房型\r\n      roomType: '',\r\n      // 房屋面积\r\n      size: 0,\r\n      // 朝向\r\n      oriented: [],\r\n      // 楼层\r\n      floor: '',\r\n      // 小区名称\r\n      community: '',\r\n      // 地理位置\r\n      coord: {\r\n        latitude: '39.928033',\r\n        longitude: '116.529466'\r\n      },\r\n      // 房屋配套\r\n      supporting: [],\r\n      // 房屋标识\r\n      houseCode: '',\r\n      // 房屋描述\r\n      description: ''\r\n    },\r\n\r\n    // 表示房源是否收藏\r\n    isFavorite: false,\r\n    // 轮播图默认高度\r\n    imgHeight: 252,\r\n  }\r\n\r\n  componentDidMount () {\r\n    // 获取配置好的路由参数：\r\n    // console.log('路由参数对象：', this.props.match.params)\r\n    // console.log(this.props)\r\n\r\n    // 获取房屋数据\r\n    this.getHouseDetail()\r\n    // 查询房源是否被当前登录人收藏过\r\n    this.checkFav()\r\n  }\r\n\r\n  // 如果登录了=》查询当前详情页的房源=》用户是否收藏过\r\n  async checkFav () {\r\n    if (!isAuth()) return\r\n    // 获取当前房源的ID\r\n    const { id } = this.props.match.params\r\n    const { status, data } = await checkFav(id)\r\n    // console.log(status, data)\r\n    if (status === 200) {\r\n      this.setState({ isFavorite: data.isFavorite })\r\n    }\r\n  }\r\n\r\n  /* \r\n      收藏房源：\r\n\r\n      1 给收藏按钮绑定单击事件，创建方法 handleFavorite 作为事件处理程序。\r\n      2 调用 isAuth 方法，判断是否登录。\r\n      3 如果未登录，则使用 Modal.alert 提示用户是否去登录。\r\n      4 如果点击取消，则不做任何操作。\r\n      5 如果点击去登录，就跳转到登录页面，同时传递 state（登录后，再回到房源收藏页面）。\r\n      \r\n      6 根据 isFavorite 判断，当前房源是否收藏。\r\n      7 如果未收藏，就调用添加收藏接口，添加收藏。\r\n      8 如果已收藏，就调用删除收藏接口，去除收藏。\r\n\r\n      alert('提示', '登录后才能收藏房源，是否去登录?', [\r\n        { text: '取消' },\r\n        {\r\n          text: '去登录',\r\n          onPress: () => {}\r\n        }\r\n      ])\r\n    */\r\n\r\n  handleFavorite = async () => {\r\n    const { replace } = this.props.history\r\n    if (!isAuth()) {\r\n      //  没有登录=》不能使用收藏功能\r\n      // 提示：需要登录才能收藏\r\n      alert('提示', '登录后才能收藏房源，是否去登录?', [\r\n        { text: '取消' },\r\n        {\r\n          text: '去登录',\r\n          onPress: () => {\r\n            // 需求：登录=》登录成功后=》返回上次访问的页面\r\n            // 1. replace和push都可以跳转路由\r\n            // 2. repalce替换当前路由堆栈，下一个页面不能使用goBack()方法\r\n            replace({ pathname: '/login', backUrl: this.props.location.pathname })\r\n          }\r\n        }\r\n      ])\r\n    } else {\r\n      // 登录=》收藏\r\n      const { isFavorite } = this.state\r\n      // 获取当前房源的ID\r\n      const { id } = this.props.match.params\r\n      if (isFavorite) {\r\n        // 如果收藏过=》变成未收藏\r\n        const res = await delFav(id)\r\n        res.status === 200 && this.setState({\r\n          isFavorite: false\r\n        })\r\n      } else {\r\n        // 如果没有收藏过=》变成收藏\r\n        const res = await addFav(id)\r\n        res.status === 200 && this.setState({\r\n          isFavorite: true\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  // 获取房屋详细信息\r\n  async getHouseDetail () {\r\n    console.log(this.props)\r\n    // 获取当前房源的ID\r\n    const { id } = this.props.match.params\r\n\r\n    const { status, data } = await getDetail(id)\r\n    if (status === 200) {\r\n      this.setState({\r\n        houseInfo: data,\r\n      })\r\n\r\n      const { community, coord } = data\r\n\r\n      // 渲染地图\r\n      this.renderMap(community, coord)\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // 渲染轮播图结构\r\n  renderSwipers () {\r\n    const {\r\n      houseInfo: { houseImg }\r\n    } = this.state\r\n\r\n    return houseImg.map(item => (\r\n      <a key={item} href=\"http://itcast.cn\" style={{ display: 'inline-block', width: '100%', background: 'gray', height: this.state.imgHeight }}>\r\n        <img src={BASE_URL + item}\r\n          style={{ width: '100%', verticalAlign: 'top' }}\r\n          onLoad={() => {\r\n            // fire window resize event to change height\r\n            // 触发了一个自适应高度的事件\r\n            window.dispatchEvent(new Event('resize'))\r\n            this.setState({ imgHeight: 'auto' })\r\n          }}\r\n          alt=\"\" />\r\n      </a>\r\n    ))\r\n  }\r\n\r\n  // 渲染地图\r\n  renderMap (community, coord) {\r\n    const { latitude, longitude } = coord\r\n\r\n    const map = new BMap.Map('map')\r\n    const point = new BMap.Point(longitude, latitude)\r\n    map.centerAndZoom(point, 17)\r\n\r\n    const label = new BMap.Label('', {\r\n      position: point,\r\n      offset: new BMap.Size(0, -36)\r\n    })\r\n\r\n    label.setStyle(labelStyle)\r\n    label.setContent(`\r\n        <span>${community}</span>\r\n        <div class=\"${styles.mapArrow}\"></div>\r\n      `)\r\n    map.addOverlay(label)\r\n  }\r\n\r\n  // 渲染标签\r\n  renderTags () {\r\n    const {\r\n      houseInfo: { tags }\r\n    } = this.state\r\n\r\n    return tags.map((item, index) => {\r\n      // 如果标签数量超过3个，后面的标签就都展示位第三个标签的样式\r\n      let tagClass = ''\r\n      if (index > 2) {\r\n        tagClass = 'tag3'\r\n      } else {\r\n        tagClass = 'tag' + (index + 1)\r\n      }\r\n\r\n      return (\r\n        <span key={item} className={[styles.tag, styles[tagClass]].join(' ')}>\r\n          {item}\r\n        </span>\r\n      )\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      isLoading,\r\n      houseInfo: {\r\n        community = '',\r\n        title,\r\n        price,\r\n        roomType,\r\n        size,\r\n        floor,\r\n        oriented,\r\n        supporting,\r\n        description\r\n      },\r\n      isFavorite\r\n    } = this.state\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 导航栏 */}\r\n        <NavBar\r\n          mode=\"dark\"\r\n          icon={<Icon type=\"left\" />}\r\n          onLeftClick={() => this.props.history.goBack()}\r\n          rightContent={[<i key=\"share\" className=\"iconfont icon-share\" />]}\r\n        >\r\n          房屋详情\r\n        </NavBar>\r\n        {/* 轮播图 */}\r\n        <div className={styles.slides}>\r\n          {!isLoading ? (\r\n            <Carousel autoplay infinite autoplayInterval={5000}>\r\n              {this.renderSwipers()}\r\n            </Carousel>\r\n          ) : (\r\n              ''\r\n            )}\r\n        </div>\r\n        {/* 房屋基础信息 */}\r\n        <div className={styles.info}>\r\n          <h3 className={styles.infoTitle}>{title}</h3>\r\n          <Flex className={styles.tags}>\r\n            <Flex.Item>{this.renderTags()}</Flex.Item>\r\n          </Flex>\r\n\r\n          <Flex className={styles.infoPrice}>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>\r\n                {price}\r\n                <span className={styles.month}>/月</span>\r\n              </div>\r\n              <div>租金</div>\r\n            </Flex.Item>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>{roomType}</div>\r\n              <div>房型</div>\r\n            </Flex.Item>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>{size}平米</div>\r\n              <div>面积</div>\r\n            </Flex.Item>\r\n          </Flex>\r\n\r\n          <Flex className={styles.infoBasic} align=\"start\">\r\n            <Flex.Item>\r\n              <div>\r\n                <span className={styles.title}>装修：</span>\r\n                精装\r\n              </div>\r\n              <div>\r\n                <span className={styles.title}>楼层：</span>\r\n                {floor}\r\n              </div>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <div>\r\n                <span className={styles.title}>朝向：</span>\r\n                {oriented.join('、')}\r\n              </div>\r\n              <div>\r\n                <span className={styles.title}>类型：</span>普通住宅\r\n              </div>\r\n            </Flex.Item>\r\n          </Flex>\r\n        </div>\r\n        {/* 地图位置 */}\r\n        <div className={styles.map}>\r\n          <div className={styles.mapTitle}>\r\n            小区：\r\n            <span>{community}</span>\r\n          </div>\r\n          <div className={styles.mapContainer} id=\"map\">\r\n            地图\r\n          </div>\r\n        </div>\r\n        {/* 房屋配套 */}\r\n        <div className={styles.about}>\r\n          <div className={styles.houseTitle}>房屋配套</div>\r\n          {/* <HousePackage list={supporting} /> */}\r\n          {/* <div className=\"title-empty\">暂无数据</div> */}\r\n\r\n          {supporting.length === 0 ? (\r\n            <div className={styles.titleEmpty}>暂无数据</div>\r\n          ) : (\r\n              <HousePackage list={supporting} />\r\n            )}\r\n        </div>\r\n        {/* 房屋概况 */}\r\n        <div className={styles.set}>\r\n          <div className={styles.houseTitle}>房源概况</div>\r\n          <div>\r\n            <div className={styles.contact}>\r\n              <div className={styles.user}>\r\n                <img src={BASE_URL + '/img/avatar.png'} alt=\"头像\" />\r\n                <div className={styles.useInfo}>\r\n                  <div>王女士</div>\r\n                  <div className={styles.userAuth}>\r\n                    <i className=\"iconfont icon-auth\" />\r\n                    已认证房主\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <span className={styles.userMsg}>发消息</span>\r\n            </div>\r\n\r\n            <div className={styles.descText}>\r\n              {description || '暂无房屋描述'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* 推荐 */}\r\n        <div className={styles.recommend}>\r\n          <div className={styles.houseTitle}>猜你喜欢</div>\r\n          <div className={styles.items}>\r\n            {recommendHouses.map(item => (\r\n              <HouseItem {...item} key={item.id} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        {/* 底部收藏按钮 */}\r\n        <Flex className={styles.fixedBottom}>\r\n          <Flex.Item onClick={this.handleFavorite}>\r\n            <img\r\n              src={\r\n                BASE_URL + (isFavorite ? '/img/star.png' : '/img/unstar.png')\r\n              }\r\n              className={styles.favoriteImg}\r\n              alt=\"收藏\"\r\n            />\r\n            <span className={styles.favorite}>\r\n              {isFavorite ? '已收藏' : '收藏'}\r\n            </span>\r\n          </Flex.Item>\r\n          <Flex.Item>在线咨询</Flex.Item>\r\n          <Flex.Item>\r\n            <a href=\"tel:400-618-4000\" className={styles.telephone}>\r\n              电话预约\r\n            </a>\r\n          </Flex.Item>\r\n        </Flex>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}