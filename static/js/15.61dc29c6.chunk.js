(this["webpackJsonpzfw-103"]=this["webpackJsonpzfw-103"]||[]).push([[15],{230:function(e,t,n){"use strict";n(17),n(231)},231:function(e,t,n){},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(1)),r=u(n(2)),i=u(n(6)),c=u(n(3)),o=u(n(5)),s=u(n(9)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n},d=function(e){function t(){return(0,r.default)(this,t),(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.children,i=e.mode,c=e.icon,o=e.onLeftClick,u=e.leftContent,d=e.rightContent,y=f(e,["prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent"]);return l.createElement("div",(0,a.default)({},y,{className:(0,s.default)(n,t,t+"-"+i)}),l.createElement("div",{className:t+"-left",role:"button",onClick:o},c?l.createElement("span",{className:t+"-left-icon","aria-hidden":"true"},c):null,u),l.createElement("div",{className:t+"-title"},r),l.createElement("div",{className:t+"-right"},d))}}]),t}(l.Component);t.default=d,d.defaultProps={prefixCls:"am-navbar",mode:"dark",onLeftClick:function(){}},e.exports=t.default},319:function(e,t,n){},388:function(e,t,n){"use strict";n.r(t);n(230);var a=n(232),r=n.n(a),i=(n(114),n(115)),c=n.n(i),o=n(27),s=n.n(o),l=n(37),u=(n(116),n(47)),f=n.n(u),d=n(33),y=n(34),m=n(36),h=n(35),p=n(0),v=n.n(p),x=n(74),C=n(38),b=n(302),k=(n(319),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={cityList:{},cityIndex:[],activeIndex:0},e.handlerSelect=function(t){["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733"].includes(t.label)?(sessionStorage.setItem("CURR_CITY",JSON.stringify(t)),e.props.history.goBack()):f.a.info("\u5f53\u524d\u57ce\u5e02\u6682\u65e0\u623f\u6e90\u6570\u636e\uff01")},e.rowRenderer=function(t){var n=t.key,a=t.index,r=(t.isScrolling,t.isVisible,t.style),i=e.state,c=i.cityList,o=i.cityIndex[a],s=c[o];return v.a.createElement("div",{key:n,style:r,className:"city-item"},v.a.createElement("div",{className:"title"},e.formatCateKey(o)),s.map((function(t){return v.a.createElement("div",{onClick:function(){e.handlerSelect(t)},key:t.value,className:"name"},t.label)})))},e.excueHeight=function(t){var n=t.index,a=e.state;return 36+50*a.cityList[a.cityIndex[n]].length},e.renderCityIndex=function(){var t=e.state,n=t.cityIndex,a=t.activeIndex;return n.map((function(t,n){return v.a.createElement("li",{onClick:function(){e.listRef.scrollToRow(n)},key:t,className:"city-index-item"},v.a.createElement("span",{className:a===n?"index-active":""},e.formatCateKey(t,!0)))}))},e.onRowsRendered=function(t){t.overscanStartIndex,t.overscanStopIndex;var n=t.startIndex;t.stopIndex;e.state.activeIndex!==n&&(console.log("\u5f53\u524d\u6eda\u52a8\u5230\u54ea\u4e00\u884c\uff1a",n),e.setState({activeIndex:n}))},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.getCityList()}},{key:"getCityList",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,r,i,c,o,l,u,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)();case 2:if(t=e.sent,n=t.status,a=t.data,200!==n){e.next=20;break}return r=this.formatCityData(a),i=r.cityList,c=r.cityIndex,e.next=9,Object(x.d)();case 9:return o=e.sent,l=o.status,u=o.data,200===l&&(i.hot=u,c.unshift("hot")),e.next=15,Object(C.b)();case 15:f=e.sent,i["#"]=[f],c.unshift("#"),this.setState({cityList:i,cityIndex:c}),console.log("\u5f52\u7c7b\u7684\u6570\u636e\uff1a",i,c);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"formatCityData",value:function(e){var t,n={};return e.forEach((function(e){var t=e.short.slice(0,1);t in n?n[t].push(e):n[t]=[e]})),t=Object.keys(n).sort(),{cityList:n,cityIndex:t}}},{key:"formatCateKey",value:function(e,t){switch(e){case"#":return t?"\u5f53":"\u5f53\u524d\u57ce\u5e02";case"hot":return t?"\u70ed":"\u70ed\u95e8\u57ce\u5e02";default:return e.toUpperCase()}}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"cityList"},v.a.createElement(r.a,{mode:"dark",icon:v.a.createElement(c.a,{type:"left"}),onLeftClick:function(){return e.props.history.goBack()}},"\u57ce\u5e02\u9009\u62e9"),v.a.createElement(b.a,null,(function(t){var n=t.height,a=t.width;return v.a.createElement(b.c,{ref:function(t){return e.listRef=t},scrollToAlignment:"start",onRowsRendered:e.onRowsRendered,width:a,height:n,rowCount:e.state.cityIndex.length,rowHeight:e.excueHeight,rowRenderer:e.rowRenderer})})),v.a.createElement("ul",{className:"city-index"},this.renderCityIndex()))}}]),n}(p.Component));t.default=k}}]);
//# sourceMappingURL=15.61dc29c6.chunk.js.map